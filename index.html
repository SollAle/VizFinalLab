<!doctype html>
<html>
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Worlds 2025 — Champion Meta Dashboard</title>
  <style>
    :root {
      --bg: #0b0f19;
      --panel: #111827;
      --card: #0f172a;
      --text: #e5e7eb;
      --muted: #9ca3af;
      --accent: #60a5fa;
      --border: rgba(255,255,255,0.10);
    }
    body { margin:0; font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial; background: var(--bg); color: var(--text); }
    header { padding: 22px 18px; border-bottom: 1px solid var(--border); background: linear-gradient(180deg, #0b0f19, #0a1022); }
    header h1 { margin: 0; font-size: 20px; }
    header p { margin: 6px 0 0; color: var(--muted); font-size: 13px; max-width: 900px; }

    .wrap { display: grid; grid-template-columns: 280px 1fr; gap: 14px; padding: 14px; }
    .sidebar { background: var(--panel); border: 1px solid var(--border); border-radius: 14px; padding: 14px; position: sticky; top: 12px; height: calc(100vh - 40px); overflow: auto; }
    .sidebar h2 { font-size: 14px; margin: 0 0 10px; color: var(--text); }
    .sidebar .hint { font-size: 12px; color: var(--muted); line-height: 1.35; margin-bottom: 12px; }
    .control { margin: 12px 0; }
    label { display:block; font-size: 12px; color: var(--muted); margin-bottom: 6px; }
    select, input[type="range"] {
      width: 100%; padding: 10px; border-radius: 10px;
      border: 1px solid var(--border); background: #0b1226; color: var(--text);
      outline: none;
    }
    .badge { display:inline-block; font-size: 11px; color: var(--muted); border: 1px solid var(--border); padding: 6px 8px; border-radius: 999px; margin-right: 6px; margin-top: 8px; }

    .main { background: var(--panel); border: 1px solid var(--border); border-radius: 14px; padding: 12px; }
    .tabs { display:flex; flex-wrap: wrap; gap: 8px; padding: 6px; border-bottom: 1px solid var(--border); }
    .tabbtn {
      padding: 10px 12px; border-radius: 10px; border: 1px solid var(--border);
      background: var(--card); color: var(--text); cursor: pointer; font-size: 13px;
    }
    .tabbtn.active { border-color: rgba(96,165,250,0.6); box-shadow: 0 0 0 3px rgba(96,165,250,0.15); }
    .panel { display:none; padding: 12px 6px 6px; }
    .panel.active { display:block; }
    .desc { color: var(--muted); font-size: 12px; margin: 0 0 10px; line-height: 1.4; }

    iframe {
      width: 100%;
      height: min(78vh, 820px);
      border: 1px solid var(--border);
      border-radius: 12px;
      background: white;
    }
    footer { padding: 10px 18px 18px; color: var(--muted); font-size: 12px; }

    @media (max-width: 900px) {
      .wrap { grid-template-columns: 1fr; }
      .sidebar { position: relative; height: auto; }
      iframe { height: 70vh; }
    }
  </style>
</head>

<body>
  <header>
    <h1>Worlds 2025 — Champion Meta Dashboard</h1>
    <p>
      Focus: pick/ban/win patterns by role, plus early-game and resource allocation.
      Built from OraclesElixir Worlds 2025 Main Event champion stats.
    </p>
  </header>

  <div class="wrap">
    <aside class="sidebar">
      <h2>Explorer Controls (UI)</h2>
      <div class="hint">
        These controls drive which chart you’re viewing. The next “upgrade” (optional) is making these
        controls filter charts live (single-page Plotly). For now, this already boosts usability + polish.
      </div>

      <div class="control">
        <label for="role">Role focus</label>
        <select id="role">
          <option value="All">All Roles</option>
          <option>Top</option><option>Jungle</option><option>Middle</option><option>ADC</option><option>Support</option>
        </select>
      </div>

      <div class="control">
        <label for="minGames">Min games played (GP)</label>
        <input id="minGames" type="range" min="1" max="25" value="5"/>
        <div class="badge">Tip: Later you can regenerate “Top GP≥X” charts from Colab.</div>
      </div>

      <div class="badge">Pick%</div>
      <div class="badge">Ban%</div>
      <div class="badge">Win%</div>
      <div class="badge">Early lead</div>
      <div class="badge">Resource share</div>
    </aside>

    <main class="main">
      <div class="tabs">
        <button class="tabbtn active" data-tab="t1">Pick% vs Win%</button>
        <button class="tabbtn" data-tab="t2">Pick+Ban Leaders</button>
        <button class="tabbtn" data-tab="t3">Meta Heatmap</button>
        <button class="tabbtn" data-tab="t4">Early Gold vs Win%</button>
        <button class="tabbtn" data-tab="t5">Early Effectiveness</button>
        <button class="tabbtn" data-tab="t6">Damage% vs Gold%</button>
        <button class="tabbtn" data-tab="t7">Win% by Role</button>
      </div>

      <section id="t1" class="panel active">
        <p class="desc">Who is popular (Pick%) and who is successful (Win%)? Bubble size = games played.</p>
        <iframe loading="lazy" src="champ_scatter.html"></iframe>
      </section>

      <section id="t2" class="panel">
        <p class="desc">Top champions by pick rate (and related stats in hover). Great “meta snapshot.”</p>
        <iframe loading="lazy" src="top_champions_bar.html"></iframe>
      </section>

      <section id="t3" class="panel">
        <p class="desc">Role-level summary of Pick%, Ban%, and Win%. Good for a high-level story beat.</p>
        <iframe loading="lazy" src="meta_heatmap.html"></iframe>
      </section>

      <section id="t4" class="panel">
        <p class="desc">Does an early gold lead correlate with higher win rate? Use this to argue “tempo matters.”</p>
        <iframe loading="lazy" src="early_gold_vs_win_rate.html"></iframe>
      </section>

      <section id="t5" class="panel">
        <p class="desc">Early gold diff vs win rate with richer hover info (includes XP/CS diffs).</p>
        <iframe loading="lazy" src="early_effectiveness_scatter.html"></iframe>
      </section>

      <section id="t6" class="panel">
        <p class="desc">Which roles/champs convert gold share into damage share? Helps talk about “efficiency.”</p>
        <iframe loading="lazy" src="damage_vs_gold_share.html"></iframe>
      </section>

      <section id="t7" class="panel">
        <p class="desc">Distribution view: are some roles more stable in win rates than others?</p>
        <iframe loading="lazy" src="champ_win_rate_by_role.html"></iframe>
      </section>
    </main>
  </div>

  <footer>
    Built for CGT470 Final Project (interactive dashboard + narrative insights). 
  </footer>

  <script>
    // tabs
    const btns = document.querySelectorAll(".tabbtn");
    const panels = document.querySelectorAll(".panel");
    btns.forEach(b => b.addEventListener("click", () => {
      btns.forEach(x => x.classList.remove("active"));
      panels.forEach(p => p.classList.remove("active"));
      b.classList.add("active");
      document.getElementById(b.dataset.tab).classList.add("active");
    }));

    // “UI filters” placeholder: show user feedback even before true live-filtering
    const role = document.getElementById("role");
    const minGames = document.getElementById("minGames");
    function toast(msg){
      console.log(msg);
    }
    role.addEventListener("change", () => toast("Role set to: " + role.value));
    minGames.addEventListener("input", () => toast("Min GP: " + minGames.value));
  </script>
</body>
</html>
