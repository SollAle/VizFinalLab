<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Worlds 2025 Champion Dashboard</title>

  <style>
    :root{
      --bg:#0f1115;
      --panel:#151a22;
      --text:#e8e8e8;
      --muted:#aab0bd;
      --border:#2a3242;
      --btn:#1b2230;
      --btnActive:#263248;
    }

    body{
      margin:0;
      font-family: Arial, sans-serif;
      background:var(--bg);
      color:var(--text);
    }

    header{
      padding:16px 18px;
      border-bottom:1px solid var(--border);
      background:var(--panel);
    }

    header h1{
      margin:0 0 6px 0;
      font-size:18px;
      font-weight:700;
    }

    header p{
      margin:0;
      color:var(--muted);
      font-size:13px;
      line-height:1.35;
    }

    .container{
      max-width:1100px;
      margin:0 auto;
      padding:14px 14px 24px 14px;
    }

    .tabs{
      display:flex;
      flex-wrap:wrap;
      gap:8px;
      margin:12px 0 12px 0;
    }

    .tabbtn{
      border:1px solid var(--border);
      background:var(--btn);
      color:var(--text);
      padding:8px 10px;
      border-radius:10px;
      cursor:pointer;
      font-size:13px;
    }

    .tabbtn.active{
      background:var(--btnActive);
      border-color:#3a4a66;
      font-weight:700;
    }

    .panel{
      display:none;
      background:var(--panel);
      border:1px solid var(--border);
      border-radius:14px;
      padding:10px;
    }

    .panel.active{ display:block; }

    iframe{
      width:100%;
      height:780px;
      border:0;
      border-radius:10px;
      background:#000;
    }

    .note{
      margin-top:10px;
      color:var(--muted);
      font-size:12px;
    }
  </style>
</head>

<body>
  <header>
    <h1>Worlds 2025 — Champion Pick/Ban/Win Dashboard</h1>
    <p>
      Interactive charts (Plotly) exported from Colab. Use tabs to switch views.
      Tip: click legend items to hide/show roles.
    </p>
  </header>

  <div class="container">
    <div class="tabs">
      <button class="tabbtn active" data-tab="t1">Pick% vs Win% (Scatter)</button>
      <button class="tabbtn" data-tab="t2">Top Champs by Pick+Ban</button>
      <button class="tabbtn" data-tab="t3">Role Meta Heatmap</button>
      <button class="tabbtn" data-tab="t4">Win Rate by Role</button>
      <button class="tabbtn" data-tab="t5">Early Gold vs Win Rate</button>
      <button class="tabbtn" data-tab="t6">Damage% vs Gold%</button>
    </div>

    <div id="t1" class="panel active"><iframe data-src="champ_pick_win_scatter.html"></iframe></div>
    <div id="t2" class="panel"><iframe data-src="top_champions_bar.html"></iframe></div>
    <div id="t3" class="panel"><iframe data-src="meta_heatmap.html"></iframe></div>
    <div id="t4" class="panel"><iframe data-src="champ_win_rate_by_role.html"></iframe></div>
    <div id="t5" class="panel"><iframe data-src="early_gold_vs_win_rate.html"></iframe></div>
    <div id="t6" class="panel"><iframe data-src="damage_vs_gold_share.html"></iframe></div>

    <div class="note">
      If changes don’t appear: commit/push to the branch used by GitHub Pages, then hard refresh (Ctrl+Shift+R).
    </div>
  </div>

  <script>
    // Cache-bust version: bump this number whenever you push new HTML exports
    const VERSION = "15";

    // Load iframes with cache-busting query param
    document.querySelectorAll("iframe[data-src]").forEach(ifr => {
      const base = ifr.getAttribute("data-src");
      ifr.src = `${base}?v=${VERSION}`;
    });

    // Tabs
    const btns = document.querySelectorAll(".tabbtn");
    const panels = document.querySelectorAll(".panel");

    btns.forEach(b => b.addEventListener("click", () => {
      btns.forEach(x => x.classList.remove("active"));
      panels.forEach(p => p.classList.remove("active"));
      b.classList.add("active");
      document.getElementById(b.dataset.tab).classList.add("active");
    }));
  </script>
</body>
</html>
